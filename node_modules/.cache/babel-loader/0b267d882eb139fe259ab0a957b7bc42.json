{"ast":null,"code":"import _objectSpread from\"C:/Users/Markie Mark/Desktop/Marks_Awesome_portfolio/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useRef,useContext}from\"react\";import classNames from\"classnames\";import{Vector2,sRGBEncoding,WebGLRenderer,PerspectiveCamera,Scene,DirectionalLight,AmbientLight,UniformsUtils,UniformsLib,MeshPhongMaterial,SphereBufferGeometry,Mesh}from\"three\";import{spring,value}from\"popmotion\";import innerHeight from\"ios-inner-height\";import vertShader from\"./sphereVertShader\";import fragShader from\"./sphereFragShader\";import{Transition}from\"react-transition-group\";import{usePrefersReducedMotion}from\"../../hooks/usePrefersReducedMotion\";import{useInViewport}from\"../../hooks/useInViewport\";import{reflow}from\"../../utils/transition\";import{media,rgbToThreeColor}from\"../../utils/style\";import{cleanScene,removeLights,cleanRenderer}from\"../../utils/three\";import\"./DisplacementSphere.css\";import{ThemeContext}from\"../theme/ThemeProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";var DisplacementSphere=function DisplacementSphere(props){var _useContext=useContext(ThemeContext),theme=_useContext.theme;var rgbBackground=theme===\"light\"?\"250 250 250\":\"17 17 17\";var width=useRef(window.innerWidth);var height=useRef(window.innerHeight);var start=useRef(Date.now());var canvasRef=useRef();var mouse=useRef();var renderer=useRef();var camera=useRef();var scene=useRef();var lights=useRef();var uniforms=useRef();var material=useRef();var geometry=useRef();var sphere=useRef();var tweenRef=useRef();var sphereSpring=useRef();var prefersReducedMotion=Boolean(usePrefersReducedMotion()&&false);//disabled until switching themes fixed\nvar isInViewport=useInViewport(canvasRef);useEffect(function(){mouse.current=new Vector2(0.8,0.5);renderer.current=new WebGLRenderer({canvas:canvasRef.current,powerPreference:\"high-performance\"});renderer.current.setSize(width.current,height.current);renderer.current.setPixelRatio(1);renderer.current.outputEncoding=sRGBEncoding;camera.current=new PerspectiveCamera(55,width.current/height.current,0.1,200);camera.current.position.z=52;scene.current=new Scene();material.current=new MeshPhongMaterial();material.current.onBeforeCompile=function(shader){uniforms.current=UniformsUtils.merge([UniformsLib[\"ambient\"],UniformsLib[\"lights\"],shader.uniforms,{time:{type:\"f\",value:0}}]);shader.uniforms=uniforms.current;shader.vertexShader=vertShader;shader.fragmentShader=fragShader;shader.lights=true;};geometry.current=new SphereBufferGeometry(32,128,128);sphere.current=new Mesh(geometry.current,material.current);sphere.current.position.z=0;sphere.current.modifier=Math.random();scene.current.add(sphere.current);return function(){cleanScene(scene.current);cleanRenderer(renderer.current);};},[]);useEffect(function(){var dirLight=new DirectionalLight(rgbToThreeColor(\"250 250 250\"),0.6);var ambientLight=new AmbientLight(rgbToThreeColor(\"250 250 250\"),theme===\"light\"?0.8:0.1);dirLight.position.z=200;dirLight.position.x=100;dirLight.position.y=100;lights.current=[dirLight,ambientLight];scene.current.background=rgbToThreeColor(rgbBackground);lights.current.forEach(function(light){return scene.current.add(light);});return function(){removeLights(lights.current);};},[rgbBackground,theme]);useEffect(function(){var handleResize=function handleResize(){var canvasHeight=innerHeight();var windowWidth=window.innerWidth;var fullHeight=canvasHeight+canvasHeight*0.3;canvasRef.current.style.height=fullHeight;renderer.current.setSize(windowWidth,fullHeight);camera.current.aspect=windowWidth/fullHeight;camera.current.updateProjectionMatrix();// Render a single frame on resize when not animating\nif(prefersReducedMotion){renderer.current.render(scene.current,camera.current);}if(windowWidth<=media.mobile){sphere.current.position.x=14;sphere.current.position.y=10;}else if(windowWidth<=media.tablet){sphere.current.position.x=18;sphere.current.position.y=14;}else{sphere.current.position.x=22;sphere.current.position.y=16;}};window.addEventListener(\"resize\",handleResize);handleResize();return function(){window.removeEventListener(\"resize\",handleResize);};},[prefersReducedMotion]);useEffect(function(){var onMouseMove=function onMouseMove(event){var rotation=sphere.current.rotation;var position={x:event.clientX/window.innerWidth,y:event.clientY/window.innerHeight};if(!sphereSpring.current){sphereSpring.current=value(rotation.toArray(),function(values){return rotation.set(values[0],values[1],sphere.current.rotation.z);});}tweenRef.current=spring({from:sphereSpring.current.get(),to:[position.y/2,position.x/2],stiffness:30,damping:20,velocity:sphereSpring.current.getVelocity(),mass:2,restSpeed:0.0001}).start(sphereSpring.current);};if(!prefersReducedMotion&&isInViewport){window.addEventListener(\"mousemove\",onMouseMove);}return function(){window.removeEventListener(\"mousemove\",onMouseMove);if(tweenRef.current){tweenRef.current.stop();}};},[isInViewport,prefersReducedMotion]);useEffect(function(){var animation;var animate=function animate(){animation=requestAnimationFrame(animate);if(uniforms.current!==undefined){uniforms.current.time.value=0.00005*(Date.now()-start.current);}sphere.current.rotation.z+=0.001;renderer.current.render(scene.current,camera.current);};if(!prefersReducedMotion&&isInViewport){animate();}else{renderer.current.render(scene.current,camera.current);}return function(){cancelAnimationFrame(animation);};},[isInViewport,prefersReducedMotion]);return/*#__PURE__*/_jsx(Transition,{appear:true,in:true,onEnter:reflow,timeout:3000,children:function children(status){return/*#__PURE__*/_jsx(\"canvas\",_objectSpread({\"aria-hidden\":true,className:classNames(\"displacement-sphere\",\"displacement-sphere--\".concat(status)),ref:canvasRef},props));}});};export default DisplacementSphere;","map":{"version":3,"names":["React","useEffect","useRef","useContext","classNames","Vector2","sRGBEncoding","WebGLRenderer","PerspectiveCamera","Scene","DirectionalLight","AmbientLight","UniformsUtils","UniformsLib","MeshPhongMaterial","SphereBufferGeometry","Mesh","spring","value","innerHeight","vertShader","fragShader","Transition","usePrefersReducedMotion","useInViewport","reflow","media","rgbToThreeColor","cleanScene","removeLights","cleanRenderer","ThemeContext","DisplacementSphere","props","theme","rgbBackground","width","window","innerWidth","height","start","Date","now","canvasRef","mouse","renderer","camera","scene","lights","uniforms","material","geometry","sphere","tweenRef","sphereSpring","prefersReducedMotion","Boolean","isInViewport","current","canvas","powerPreference","setSize","setPixelRatio","outputEncoding","position","z","onBeforeCompile","shader","merge","time","type","vertexShader","fragmentShader","modifier","Math","random","add","dirLight","ambientLight","x","y","background","forEach","light","handleResize","canvasHeight","windowWidth","fullHeight","style","aspect","updateProjectionMatrix","render","mobile","tablet","addEventListener","removeEventListener","onMouseMove","event","rotation","clientX","clientY","toArray","values","set","from","get","to","stiffness","damping","velocity","getVelocity","mass","restSpeed","stop","animation","animate","requestAnimationFrame","undefined","cancelAnimationFrame","status"],"sources":["C:/Users/Markie Mark/Desktop/Marks_Awesome_portfolio/src/components/background/DisplacementSphere.js"],"sourcesContent":["import React, { useEffect, useRef, useContext } from \"react\";\r\nimport classNames from \"classnames\";\r\nimport {\r\n    Vector2,\r\n    sRGBEncoding,\r\n    WebGLRenderer,\r\n    PerspectiveCamera,\r\n    Scene,\r\n    DirectionalLight,\r\n    AmbientLight,\r\n    UniformsUtils,\r\n    UniformsLib,\r\n    MeshPhongMaterial,\r\n    SphereBufferGeometry,\r\n    Mesh,\r\n} from \"three\";\r\nimport { spring, value } from \"popmotion\";\r\nimport innerHeight from \"ios-inner-height\";\r\nimport vertShader from \"./sphereVertShader\";\r\nimport fragShader from \"./sphereFragShader\";\r\nimport { Transition } from \"react-transition-group\";\r\nimport { usePrefersReducedMotion } from \"../../hooks/usePrefersReducedMotion\";\r\nimport { useInViewport } from \"../../hooks/useInViewport\";\r\nimport { reflow } from \"../../utils/transition\";\r\nimport { media, rgbToThreeColor } from \"../../utils/style\";\r\nimport { cleanScene, removeLights, cleanRenderer } from \"../../utils/three\";\r\nimport \"./DisplacementSphere.css\";\r\nimport { ThemeContext } from \"../theme/ThemeProvider\";\r\n\r\nconst DisplacementSphere = (props) => {\r\n    const { theme } = useContext(ThemeContext);\r\n    const rgbBackground = theme === \"light\" ? \"250 250 250\" : \"17 17 17\";\r\n    const width = useRef(window.innerWidth);\r\n    const height = useRef(window.innerHeight);\r\n    const start = useRef(Date.now());\r\n    const canvasRef = useRef();\r\n    const mouse = useRef();\r\n    const renderer = useRef();\r\n    const camera = useRef();\r\n    const scene = useRef();\r\n    const lights = useRef();\r\n    const uniforms = useRef();\r\n    const material = useRef();\r\n    const geometry = useRef();\r\n    const sphere = useRef();\r\n    const tweenRef = useRef();\r\n    const sphereSpring = useRef();\r\n    const prefersReducedMotion = Boolean(usePrefersReducedMotion() && false); //disabled until switching themes fixed\r\n    const isInViewport = useInViewport(canvasRef);\r\n\r\n    useEffect(() => {\r\n        mouse.current = new Vector2(0.8, 0.5);\r\n        renderer.current = new WebGLRenderer({\r\n            canvas: canvasRef.current,\r\n            powerPreference: \"high-performance\",\r\n        });\r\n        renderer.current.setSize(width.current, height.current);\r\n        renderer.current.setPixelRatio(1);\r\n        renderer.current.outputEncoding = sRGBEncoding;\r\n\r\n        camera.current = new PerspectiveCamera(\r\n            55,\r\n            width.current / height.current,\r\n            0.1,\r\n            200\r\n        );\r\n        camera.current.position.z = 52;\r\n\r\n        scene.current = new Scene();\r\n\r\n        material.current = new MeshPhongMaterial();\r\n        material.current.onBeforeCompile = (shader) => {\r\n            uniforms.current = UniformsUtils.merge([\r\n                UniformsLib[\"ambient\"],\r\n                UniformsLib[\"lights\"],\r\n                shader.uniforms,\r\n                { time: { type: \"f\", value: 0 } },\r\n            ]);\r\n\r\n            shader.uniforms = uniforms.current;\r\n            shader.vertexShader = vertShader;\r\n            shader.fragmentShader = fragShader;\r\n            shader.lights = true;\r\n        };\r\n\r\n        geometry.current = new SphereBufferGeometry(32, 128, 128);\r\n\r\n        sphere.current = new Mesh(geometry.current, material.current);\r\n        sphere.current.position.z = 0;\r\n        sphere.current.modifier = Math.random();\r\n        scene.current.add(sphere.current);\r\n\r\n        return () => {\r\n            cleanScene(scene.current);\r\n            cleanRenderer(renderer.current);\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const dirLight = new DirectionalLight(\r\n            rgbToThreeColor(\"250 250 250\"),\r\n            0.6\r\n        );\r\n        const ambientLight = new AmbientLight(\r\n            rgbToThreeColor(\"250 250 250\"),\r\n            theme === \"light\" ? 0.8 : 0.1\r\n        );\r\n\r\n        dirLight.position.z = 200;\r\n        dirLight.position.x = 100;\r\n        dirLight.position.y = 100;\r\n\r\n        lights.current = [dirLight, ambientLight];\r\n        scene.current.background = rgbToThreeColor(rgbBackground);\r\n        lights.current.forEach((light) => scene.current.add(light));\r\n\r\n        return () => {\r\n            removeLights(lights.current);\r\n        };\r\n    }, [rgbBackground, theme]);\r\n\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            const canvasHeight = innerHeight();\r\n            const windowWidth = window.innerWidth;\r\n            const fullHeight = canvasHeight + canvasHeight * 0.3;\r\n            canvasRef.current.style.height = fullHeight;\r\n            renderer.current.setSize(windowWidth, fullHeight);\r\n            camera.current.aspect = windowWidth / fullHeight;\r\n            camera.current.updateProjectionMatrix();\r\n\r\n            // Render a single frame on resize when not animating\r\n            if (prefersReducedMotion) {\r\n                renderer.current.render(scene.current, camera.current);\r\n            }\r\n\r\n            if (windowWidth <= media.mobile) {\r\n                sphere.current.position.x = 14;\r\n                sphere.current.position.y = 10;\r\n            } else if (windowWidth <= media.tablet) {\r\n                sphere.current.position.x = 18;\r\n                sphere.current.position.y = 14;\r\n            } else {\r\n                sphere.current.position.x = 22;\r\n                sphere.current.position.y = 16;\r\n            }\r\n        };\r\n\r\n        window.addEventListener(\"resize\", handleResize);\r\n        handleResize();\r\n\r\n        return () => {\r\n            window.removeEventListener(\"resize\", handleResize);\r\n        };\r\n    }, [prefersReducedMotion]);\r\n\r\n    useEffect(() => {\r\n        const onMouseMove = (event) => {\r\n            const { rotation } = sphere.current;\r\n\r\n            const position = {\r\n                x: event.clientX / window.innerWidth,\r\n                y: event.clientY / window.innerHeight,\r\n            };\r\n\r\n            if (!sphereSpring.current) {\r\n                sphereSpring.current = value(rotation.toArray(), (values) =>\r\n                    rotation.set(\r\n                        values[0],\r\n                        values[1],\r\n                        sphere.current.rotation.z\r\n                    )\r\n                );\r\n            }\r\n\r\n            tweenRef.current = spring({\r\n                from: sphereSpring.current.get(),\r\n                to: [position.y / 2, position.x / 2],\r\n                stiffness: 30,\r\n                damping: 20,\r\n                velocity: sphereSpring.current.getVelocity(),\r\n                mass: 2,\r\n                restSpeed: 0.0001,\r\n            }).start(sphereSpring.current);\r\n        };\r\n\r\n        if (!prefersReducedMotion && isInViewport) {\r\n            window.addEventListener(\"mousemove\", onMouseMove);\r\n        }\r\n\r\n        return () => {\r\n            window.removeEventListener(\"mousemove\", onMouseMove);\r\n\r\n            if (tweenRef.current) {\r\n                tweenRef.current.stop();\r\n            }\r\n        };\r\n    }, [isInViewport, prefersReducedMotion]);\r\n\r\n    useEffect(() => {\r\n        let animation;\r\n\r\n        const animate = () => {\r\n            animation = requestAnimationFrame(animate);\r\n\r\n            if (uniforms.current !== undefined) {\r\n                uniforms.current.time.value =\r\n                    0.00005 * (Date.now() - start.current);\r\n            }\r\n\r\n            sphere.current.rotation.z += 0.001;\r\n            renderer.current.render(scene.current, camera.current);\r\n        };\r\n\r\n        if (!prefersReducedMotion && isInViewport) {\r\n            animate();\r\n        } else {\r\n            renderer.current.render(scene.current, camera.current);\r\n        }\r\n\r\n        return () => {\r\n            cancelAnimationFrame(animation);\r\n        };\r\n    }, [isInViewport, prefersReducedMotion]);\r\n\r\n    return (\r\n        <Transition appear in onEnter={reflow} timeout={3000}>\r\n            {(status) => (\r\n                <canvas\r\n                    aria-hidden\r\n                    className={classNames(\r\n                        \"displacement-sphere\",\r\n                        `displacement-sphere--${status}`\r\n                    )}\r\n                    ref={canvasRef}\r\n                    {...props}\r\n                />\r\n            )}\r\n        </Transition>\r\n    );\r\n};\r\n\r\nexport default DisplacementSphere;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}